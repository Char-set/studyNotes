# LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ æœ€å°è¦†ç›–å­ä¸² - ä¸­ç­‰é¢˜

## é¢˜ç›®

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² **s** ã€ä¸€ä¸ªå­—ç¬¦ä¸² **t** ã€‚è¿”å› **s** ä¸­æ¶µç›– **t** æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ **s** ä¸­ä¸å­˜åœ¨æ¶µç›– **t** æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² **""** ã€‚


**æ³¨æ„ï¼š**

- å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚
- å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚

**ç¤ºä¾‹1**

    è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"

    è¾“å‡ºï¼š"BANC"

**ç¤ºä¾‹2**

    è¾“å…¥ï¼šs = "a", t = "a"

    è¾“å‡ºï¼š"a"

**ç¤ºä¾‹3**

    è¾“å…¥: s = "a", t = "aa"

    è¾“å‡º: ""

    è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ 'a' å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ
    å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

## æ€è·¯

é¦–å…ˆï¼ŒæŒ‰ç…§é¢˜ç›®çš„è¦æ±‚ï¼Œå¦‚æœ `len(t) > len(s)` é‚£ä¹ˆç»“æœå°±æ˜¯ `""`

å¯¹äº `s = "ADOBECODEBANC", t = "ABC"`ï¼Œç”±äºç°åœ¨æ€è·¯ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œå¯ä»¥å°è¯•å¯»æ‰¾ä¸€äº›è§„å¾‹ï¼š

å­—ç¬¦ä¸² `s` æ¯ä¸ªä½ç½®çš„å­—ç¬¦å¯¹åº”çš„ç´¢å¼•åæ ‡å¦‚ä¸‹ï¼š

```
    A D O B E C O D E B A  N  C

    0 1 2 3 4 5 6 7 8 9 10 11 12
```

é‚£ä¹ˆå¯¹äº `t = "ABC"`ï¼Œæ¯ä¸ªå­—ç¬¦åœ¨ `t` ä¸­çš„ä½ç½®å¯èƒ½å¦‚ä¸‹ï¼š

```
    A: [0, 10]

    B: [3, 9]

    C: [5, 12]
```

é‚£ä¹ˆæ¶µç›– `t` å­—ç¬¦ä¸²çš„ç»„åˆå¦‚ä¸‹ï¼š

```
    A    B   C
    0    3   5
    0    3   12
    0    9   5
    0    9   12
    10   3   5
    10   3   12
    10   9   5
    10   9   12

```

çªç„¶å°±å‘ç°ï¼Œè¿™ä¸å°±å˜æˆäº†ä¸€ä¸ªæ’åˆ—ç»„åˆçš„é—®é¢˜ä¹ˆï¼Œæ‰¾å‡ºæ‰€æœ‰ç»„åˆä¸­ï¼Œæœ€å¤§å€¼ä¸æœ€å°å€¼å·®è·æœ€å°çš„ç»„åˆï¼Œå³ä¸ºé¢˜ç›®æ‰€æ±‚ï¼Œäºæ˜¯ä¾¿æœ‰äº†ä¸‹é¢çš„è§£æ³•ï¼š

```js
    /**
     * @param {string} s
     * @param {string} t
     * @return {string}
     */
    var minWindow = function (s, t) {

        let minAnsLength = Number.MAX_VALUE, minAns = '', sLen = s.length, tLen = t.length;

        if(tLen > sLen) return '';

        // ç”¨äºå°† s è½¬æ¢ä¸º word: num çš„å½¢å¼
        let sMap = {};

        for(let i = 0; i < sLen; i++) {
            if(!sMap[s[i]]) {
                sMap[s[i]] = [];
            }
            sMap[s[i]].push(i);
        }

        // å–å‡º t ä¸­éœ€è¦çš„ key
        let vaildMap = {};
        for(let j = 0; j < tLen; j++) {

            // å¦‚æœ t ä¸­æœ‰è€Œ s ä¸­æ²¡æœ‰ï¼Œåˆ™ s ä¸å¯èƒ½æ¶µç›– t
            if(!sMap[t[j]]) {
                return '';
            }

            vaildMap[t[j]] = sMap[t[j]];
        }

        // å­˜å‚¨æ‰€æœ‰çš„æ’åˆ—ç»„åˆ
        let vaildArr = []

        // æ¯æ¬¡ä»map å–å‡º map[t.charAt(idx)], æ˜¯ä¸€ä¸ª Array
        // å¤§æ¦‚æ„æ€å°±æ˜¯ï¼Œå¯¹äºä¸Šé¢çš„ ä¾‹å­ `s = "ADOBECODEBANC", t = "ABC"`
        // å…ˆé€‰å‡º Aï¼Œä¹‹åå†é€‰ Bï¼Œå†é€‰ Cï¼Œå½“ currentSet == tLen è¯´æ˜é€‰æ‹©å®Œæˆï¼Œæ”¾å…¥ vaildArr
        const getDfs = (currentSet, idx, map) => {
            // console.log('currentSet :', currentSet)
            if(currentSet.length == tLen) {
                vaildArr.push(currentSet);
                return;
            }

            // å–å‡º A æ‰€æœ‰çš„å¯èƒ½
            let key = t.charAt(idx);
            let codeArr = [...map[key]];

            for(let i = 0; i < codeArr.length; i++) {
                
                let copyArr = [...map[key]]
                // å°†å½“å‰å·²é€‰æ‹©çš„ A å»é™¤
                let newItem = copyArr.splice(i, 1)[0];
                staticMap[key] = copyArr;

                let newSet = [...currentSet, newItem];
                // console.log(`now is picker ${key}, choose ${newItem}`)

                // å°†idx + 1ï¼Œå»é€‰æ‹©ä¸‹ä¸€ä¸ªä½ç½® B
                getDfs(newSet, idx + 1, staticMap)
            }

        }

        // ä» A å¼€å§‹é€‰æ‹©
        getDfs([], 0, vaildMap);

        // åœ¨æ‰€æœ‰çš„æ’åˆ—ç»„åˆé‡Œï¼Œå¯»æ‰¾æœ€å°çš„é‚£ä¸ªçª—å£
        for(let i = 0; i < vaildArr.length; i++) {
            let currentAnsStart = Math.min(...vaildArr[i]);
            let currentAnsEnd = Math.max(...vaildArr[i]);
            if(currentAnsEnd - currentAnsStart < minAnsLength) {
                minAns = s.substring(currentAnsStart, currentAnsEnd + 1);
                minAnsLength = currentAnsEnd - currentAnsStart;
            }
        }


        return minAns;
    };
```

**åæ€ï¼š** ä¸Šè¿°ä»£ç çš„æ—¶é—´å¤æ‚åº¦å¾ˆé«˜ï¼Œåœ¨æäº¤ `LeetCode` çš„æ—¶å€™ï¼Œæœä¸å…¶ç„¶çš„è¶…æ—¶äº†ï½ï¼›åˆ†æå…¶åŸå› ï¼Œæ˜¯åœ¨å¯»æ‰¾æ‰€æœ‰æ’åˆ—ç»„åˆçš„æ—¶å€™ï¼Œå‡è®¾ `t` æœ‰äº”ç§å…ƒç´ ï¼Œæ¯ç§å…ƒç´ åœ¨ `s` ä¸­éƒ½æœ‰ä¸¤ç§å¯èƒ½ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°±æ˜¯ `O(2 ^ 5)`ï¼Œæ¯å½“å…ƒç´ çš„ç§ç±»å¢åŠ ï¼Œæˆ–è€…å…ƒç´ å¯èƒ½çš„ä½ç½®å¢åŠ ï¼Œæ—¶é—´å¤æ‚åº¦å‘ˆæŒ‡æ•°çº§å¢åŠ çš„å…³ç³»ï¼Œè€Œä¸”å¥½åƒè¿˜ä¸å¤ªå¥½ä¼˜åŒ–ï½

**å†æ€è€ƒï¼š** å…¶å®å¯ä»¥ç”¨ä¸€ä¸ªå˜åŒ–çš„çª—å£ï¼Œæ¥è§£å†³å½“å‰é—®é¢˜ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š

- 1ã€åˆå§‹åŒ–çª—å£çš„ä½ç½® `left = 0, right = 0`ï¼Œå®šä¹‰ `needsã€window` ä¸º `Map` ç±»å‹ï¼Œç”¨äºåˆ†åˆ«å­˜å‚¨ `tã€çª—å£` ä¸­æ¯ç§å…ƒç´ çš„æ•°é‡ï¼Œå®šä¹‰ `valid` ä¸ºå½“å‰çª—å£å·²åŒ¹é… `s` ä¸­ç§ç±»çš„æ•°é‡
  
- 2ã€éå† `t` ï¼Œåˆå§‹åŒ– `needs`
  
- 3ã€å½“çª—å£çš„å³è¾¹ç•Œ `right < len(s)`
  
  - åˆ¤æ–­å½“å‰çš„ `s[right]` æ˜¯å¦åœ¨ `needs` ä¸­
  
    - å­˜åœ¨åˆ™å°†çª—å£ä¸­ `window` å½“å‰å…ƒç´ çš„æ•°é‡ `window[s[right]] + 1`ï¼ŒåŒæ—¶æ¥ç€åˆ¤æ–­å½“å‰ç§ç±»çš„å…ƒç´  `s[right]` æ˜¯å¦å…¨éƒ¨éƒ½åœ¨çª—å£ä¸­ `window[s[right]] == needs[s[right]]`ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™å°† `valid++`
  
  - å¦‚æœè¿™ä¸ªæ—¶å€™ `valid === Object.keys(needs)`ï¼Œè¯´æ˜å½“å‰çª—å£æ¶µç›–äº† `t`

    - è®¡ç®—å½“å‰çª—å£çš„å¤§å°å’Œä¹‹å‰çª—å£çš„å¤§å°ï¼Œå–è¾ƒå°çš„
  
    - å°è¯•å°†çª—å£çš„å·¦è¾¹ç•Œå³ç§»ï¼Œå‡å°çª—å£çš„é•¿åº¦ï¼Œè¿‡ç¨‹ä¸­éœ€è¦åˆ¤æ–­å³ç§»ä¹‹åï¼Œå½“å‰çª—å£æ˜¯å¦è¿˜ä»ç„¶æ¶µç›– `t`ï¼Œä¸æ»¡è¶³åï¼Œéœ€è¦å°† `valid--`ï¼Œç”¨äºé€€å‡º `left` å³ç§»çš„å¾ªç¯

**ç§»åŠ¨çª—å£è§£æ³•**

```js
    
    /**
     * @param {string} s
     * @param {string} t
     * @return {string}
     */
    var minWindow = function(s, t) {
        let needs = {};
        let window = {};
        let left = 0, right = 0, len = Number.MAX_VALUE, start = 0;
        let valid = 0;

        // åˆå§‹åŒ– needs
        for(let i of t) {
            needs[i] = (needs[i] || 0) + 1;
        }

        let keyLen = Object.keys(needs).length;

        // å¾ªç¯
        while(right < s.length) {
            let c = s[right];
            // å°†çª—å£å³ç§»
            right++;

            // åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦åœ¨needsä¸­
            if(needs[c]) {
                // å°†çª—å£ä¸­çš„å…ƒç´ æ ‡è¯†ä¹Ÿ + 1
                window[c] = (window[c] || 0) + 1;

                // åˆ¤æ–­å½“å‰å…ƒç´ ç§ç±»æ˜¯å¦åŒ¹é…å®Œæˆ
                if(window[c] == needs[c]) {
                    valid++;
                }
            }

            // å½“å‰çª—å£æ¶µç›–äº† t
            while(valid === keyLen) {

                // ä¿ç•™æœ€å°çª—å£
                if(right - left < len) {
                    len = right - left;
                    start = left;
                }
                let d = s[left];
                // å°è¯•å‡å°çª—å£
                left++;
                if(needs[d]) {

                    // çª—å£ä¸èƒ½å®Œå…¨æ¶µç›– s
                    if(window[d] == needs[d]) {
                        valid--;
                    }
                    window[d]--
                }
            }

        }
        return len == Number.MAX_VALUE ? "" : s.substr(start, len);
    };
```

## å°ç»“

é€’å½’è¿˜æ˜¯éœ€è¦æ…ç”¨ï¼Œä¸€ä¸å°å¿ƒä¾¿ä¼š `out of memory`

ç§»åŠ¨å¯å˜çª—å£ï¼Œå¯¹äºæ¶µç›–é—®é¢˜ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„æ€è·¯ï½

[# LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ æœ€å°è¦†ç›–å­ä¸² - ä¸­ç­‰é¢˜](https://leetcode-cn.com/problems/minimum-window-substring/) âœ…


[åˆé›†ï¼šLeetCode ğŸ‘‰ HOT 100](https://juejin.cn/column/7029946677398077476)ï¼Œæœ‰ç©ºå°±ä¼šæ›´æ–°ï¼Œå¤§å®¶å¤šå¤šæ”¯æŒï¼Œç‚¹ä¸ªèµğŸ‘

å¦‚æœå¤§å®¶æœ‰å¥½çš„è§£æ³•ï¼Œæˆ–è€…å‘ç°æœ¬æ–‡ç†è§£ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º ğŸ˜„

