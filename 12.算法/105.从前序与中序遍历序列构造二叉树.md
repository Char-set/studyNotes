# LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - ä¸­ç­‰é¢˜

## é¢˜ç›®

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ **preorder** å’Œ **inorder** ï¼Œå…¶ä¸­ **preorder** æ˜¯äºŒå‰æ ‘çš„å…ˆåºéå†ï¼Œ **inorder** æ˜¯åŒä¸€æ£µæ ‘çš„ä¸­åºéå†ï¼Œè¯·æ„é€ äºŒå‰æ ‘å¹¶è¿”å›å…¶æ ¹èŠ‚ç‚¹ã€‚

**ç¤ºä¾‹1**

![](https://assets.leetcode.com/uploads/2021/02/19/tree.jpg)
     
    è¾“å…¥: preorder = [3,9,20,15,7], inorder = [9,3,15,20,7]

    è¾“å‡º: [3,9,20,null,null,15,7]

**ç¤ºä¾‹2**

    è¾“å…¥: preorder = [-1], inorder = [-1]

    è¾“å‡º: [-1]

**æç¤º:**

    1 <= preorder.length <= 3000
    inorder.length == preorder.length
    -3000 <= preorder[i], inorder[i] <= 3000
    preorder å’Œ inorder å‡ æ— é‡å¤ å…ƒç´ 
    inorder å‡å‡ºç°åœ¨ preorder
    preorder ä¿è¯ ä¸ºäºŒå‰æ ‘çš„å‰åºéå†åºåˆ—
    inorder ä¿è¯ ä¸ºäºŒå‰æ ‘çš„ä¸­åºéå†åºåˆ—

## æ€è·¯

è¦ä» `å…ˆåºéå†` å’Œ `ä¸­åºéå†` çš„ç»“æœä¸­ï¼Œåå‘æ„å»ºå‡ºäºŒå‰æ ‘ï¼Œé¦–å…ˆéœ€è¦äº†è§£ï¼Œè¿™ä¸¤ä¸ªæ–¹å¼éå†ä¹‹åå½¢æˆçš„ç»“æœæ˜¯ä»€ä¹ˆç»“æ„ï¼Œå¯ä»¥å…ˆçœ‹è¿™ç¯‡ [`äºŒå‰æ ‘çš„ä¸­ã€å…ˆã€ååºéå†`](https://juejin.cn/post/7058656109384433678)

`å…ˆåºéå†` ä¼šå½¢æˆå¦‚ä¸‹æ•°æ®ç»“æ„

    [ æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]

`ä¸­åºéå†` ä¼šå½¢æˆå¦‚ä¸‹æ•°æ®ç»“æ„

    [ [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]

å¦‚æœæƒ³è¦æ„å»ºä¸€ä¸ªäºŒå‰æ ‘ï¼Œé¦–å…ˆéœ€è¦æ ¹èŠ‚ç‚¹ï¼Œé‚£å¾ˆå®¹æ˜“å‘ç° `å…ˆåºéå†` çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯æ ¹èŠ‚ç‚¹ã€‚

æœ‰äº†æ ¹èŠ‚ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå¾ˆæ˜æ˜¾ï¼Œåœ¨ `ä¸­åºéå†` ä¸­ï¼Œå¦‚æœæ‰¾åˆ°æ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œé‚£å®ƒçš„å·¦è¾¹å°±æ˜¯å·¦å­æ ‘ï¼Œå³è¾¹å°±æ˜¯å³å­æ ‘

ç°åœ¨æœ‰ï¼š

    æ ¹èŠ‚ç‚¹
    å…ˆåºéå†ï¼š[ [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]
    ä¸­åºéå†ï¼š[ [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]

å¦‚æœï¼Œèƒ½å¤Ÿå°†å…ˆåºéå†ä¸­çš„å·¦å­æ ‘æ‹†å‡ºæ¥ï¼Œä¼šå¾—åˆ°å’Œä¹‹å‰å®Œå…¨ä¸€æ ·çš„ä¸¤ç»„ç»“æœï¼šå·¦å­æ ‘çš„å…ˆåºã€ä¸­åºéå†ï¼Œå³å­æ ‘çš„å…ˆåºã€ä¸­åºéå†ï¼Œå†é€’å½’æ‰§è¡Œä¸Šè¿°è¿‡ç¨‹å°±è¡Œã€‚



**é€’å½’å®Œæ•´ä»£ç å¦‚ä¸‹**

```js
    /**
     * Definition for a binary tree node.
     * function TreeNode(val, left, right) {
     *     this.val = (val===undefined ? 0 : val)
     *     this.left = (left===undefined ? null : left)
     *     this.right = (right===undefined ? null : right)
     * }
     */
    //  `å…ˆåºéå†` ä¼šå½¢æˆå¦‚ä¸‹æ•°æ®ç»“æ„

    //  [ æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]

    // `ä¸­åºéå†` ä¼šå½¢æˆå¦‚ä¸‹æ•°æ®ç»“æ„

    //  [ [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„å‰åºéå†ç»“æœ] ]
    /**
     * @param {number[]} preorder
     * @param {number[]} inorder
     * @return {TreeNode}
     */
    var buildTree = function(preorder, inorder) {
        const buildNode = (preStart, preEnd, inStart, inEnd) => {

            if (preStart > preEnd) return null;

            const rootVal = preorder[preStart];
            // æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®
            const rootIdx = inorder.indexOf(rootVal);
        
            // å·¦å­æ ‘å¤§å°
            const leftSize = rootIdx - inStart;

            const root = new TreeNode(rootVal);

            root.left = buildNode(preStart + 1, preStart + leftSize, inStart, rootIdx - 1);

            root.right = buildNode(preStart + leftSize + 1, preEnd, rootIdx + 1, inEnd)
            return root;

        }
        // æ„å»ºæ ¹èŠ‚ç‚¹
        return buildNode(0, preorder.length - 1, 0, inorder.length - 1)
    };
```


**æ€è€ƒï¼š** ä¸Šé¢çš„è§£æ³•ï¼Œç”¨åˆ°äº†é¢˜ç›®æç¤ºä¸­çš„ä¸€ä¸ªå…³é”®è¦ç‚¹ `preorder å’Œ inorder å‡ æ— é‡å¤ å…ƒç´ `ï¼Œæ‰€ä»¥åœ¨ `ä¸­åºéå†ä¸­` å¯»æ‰¾æ ¹èŠ‚ç‚¹æ—¶é‡‡ç”¨äº† `indexOf` çš„æ·å¾„ï¼Œä½†è¿™é‡Œå…¶å®æ¯æ¬¡éƒ½å»å¯»æ‰¾æ ¹èŠ‚ç‚¹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œå¯ä»¥é‡‡å–å°† `ä¸­åºéå†` çš„ç»“æœè½¬æ¢æˆå“ˆå¸Œç»“æ„ï¼Œé‚£ä¹ˆåœ¨é€’å½’æ—¶ï¼Œæ¯æ¬¡å¯»æ‰¾æ ¹èŠ‚ç‚¹çš„æ—¶é—´å¤æ‚åº¦å°±ä¼šé™ä¸º `O(1)`ï¼Œå…¸å‹çš„ç©ºé—´æ¢æ—¶é—´

**ä¼˜åŒ–åéƒ¨åˆ†ä»£ç **

```js
    
    const rootMap = {};

    for(let i = 0; i < inorder.length; i++) {
        rootMap[inorder[i]] = i;
    }

    const buildNode = (preStart, preEnd, inStart, inEnd) => {

        // ...
        
        // æ ¹èŠ‚ç‚¹åœ¨ä¸­åºéå†ä¸­çš„ä½ç½®
        const rootIdx = rootMap[rootVal];
        
        // ...
    }

```


## å°ç»“

äºŒå‰æ ‘ï¼Œå­¦å®Œäº†å¦‚ä½•éå†ï¼Œå°±è¯¥å­¦å­¦å¦‚ä½•ä»éå†åçš„ç»“æœä¸­ï¼Œåå‘æ„å»ºå‡ºäºŒå‰æ ‘äº†


[LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ - ä¸­ç­‰é¢˜](https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/) âœ…


[åˆé›†ï¼šLeetCode ğŸ‘‰ HOT 100](https://juejin.cn/column/7029946677398077476)ï¼Œæœ‰ç©ºå°±ä¼šæ›´æ–°ï¼Œå¤§å®¶å¤šå¤šæ”¯æŒï¼Œç‚¹ä¸ªèµğŸ‘

å¦‚æœå¤§å®¶æœ‰å¥½çš„è§£æ³•ï¼Œæˆ–è€…å‘ç°æœ¬æ–‡ç†è§£ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º ğŸ˜„

