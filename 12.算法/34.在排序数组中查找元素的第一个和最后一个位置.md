# LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - ä¸­ç­‰é¢˜

## é¢˜ç›®

ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ targetï¼Œè¿”å›Â [-1, -1]ã€‚

è¿›é˜¶ï¼š

- ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸ºÂ O(log n)Â çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ

**ç¤ºä¾‹1**

    è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
    è¾“å‡ºï¼š[3,4]

**ç¤ºä¾‹2**

    è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 6
    è¾“å‡ºï¼š[-1,-1]

**ç¤ºä¾‹3**

    è¾“å…¥ï¼šnums = [], target = 0
    è¾“å‡ºï¼š[-1,-1]

## æ€è·¯

å¦‚æœä¸è€ƒè™‘æ—¶é—´å¤æ‚åº¦çš„é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥éå†é¢˜ç›®æ‰€ç»™æ•°ç»„ï¼Œå½“ `nums[i]` å’Œ ç›®æ ‡å€¼ `target` ç›¸ç­‰æ—¶ï¼Œåˆ¤æ–­æ˜¯ç¬¬ä¸€æ¬¡ç›¸ç­‰ï¼Œæˆ–è€…æ˜¯æœ€åä¸€æ¬¡ç›¸ç­‰ï¼Œå…·ä½“æ­¥éª¤ï¼š

- å®šä¹‰ `ans = [-1, -1]`

- éå†æ•°ç»„ `nums`

- å¦‚æœ `nums[i] == target`

    - å¦‚æœè¿™æ—¶ `ans[0] == -1`ï¼Œè¯´æ˜æ˜¯ç¬¬ä¸€æ¬¡ç›¸ç­‰ï¼Œå°† `ans[0] = i`

    - å¦‚æœ `i == n -1 || nums[i + 1] > nums[i]`ï¼Œè¯´æ˜å·²ç»åŒ¹é…åˆ°æœ€åä¸€ä¸ªå’Œ `target` ç›¸ç­‰çš„å…ƒç´ ä½ç½®ï¼Œå°† `ans[1] = i`

- è¿”å› `ans` å³ä¸ºé¢˜ç›®æ‰€æ±‚

**ä»£ç å¦‚ä¸‹**

```js
    /**
     * @param {number[]} nums
     * @param {number} target
     * @return {number[]}
     */
    var searchRange = function(nums, target) {
        let ans = [-1,-1];
        const n = nums.length;
        for(let i = 0; i < n; i++) {
            if(nums[i] == target) {
                if(ans[0] == -1) {
                    ans[0] = i;
                }

                if(i == n - 1 || nums[i + 1] > nums[i]) {
                    ans[1] = i;
                }
            }
        }

        return ans;
    };
```

**æ€è€ƒï¼š** ä¸Šè¿°ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º `O(n)`ï¼Œå¦‚æœè¦è·å¾—æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„è§£æ³•ï¼Œå°±å¿…ç„¶è¦è¿›è¡ŒäºŒåˆ†äº†ã€‚

ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥æ‹†è§£ä¸ºå¯»æ‰¾ `ç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®` å’Œ `ç¬¬ä¸€ä¸ªå¤§äºtargetçš„ä½ç½®å‡ 1`

å…ˆè€ƒè™‘ `ç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®`ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œ

- åˆå§‹æ—¶å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ `left = 0`ï¼Œ`right = n - 1`ï¼Œ`ans = nums.length`

- å½“ `left < right` æ—¶éå† ï¼ˆ**æ³¨æ„å‘**ï¼‰

    - å–ä¸­é—´æ•° `mid =  Math.floor((right - left) / 2) + left`

    - å¦‚æœ `nums[mid] > target`ï¼Œè¿›è¡Œ `right = mid - 1, ans = mid`ï¼ŒæŠŠåŒºé—´ç¼©å°ï¼ŒæŠŠ `ans` çš„å¯èƒ½å€¼ä¹Ÿç¼©å°

    - å¦‚æœ `nums[mid] == target`ï¼Œè¿™æ—¶è¦å¯»æ‰¾çš„æ˜¯ `ç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®`ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œä¾ç„¶éœ€è¦è¿›è¡Œ `right = mid - 1, ans = mid`ï¼ŒæŠŠåŒºé—´ç¼©å°ï¼ŒæŠŠ `ans` çš„å¯èƒ½å€¼ä¹Ÿç¼©å°

    - å¦‚æœ `nums[mid] < targte`ï¼Œè¿›è¡Œ `left = mid + 1`

ä¸Šè¿°éå†ç»“æŸåï¼Œ`ans` åº”è¯¥ä¸ºæœ€åä¸€ä¸ªåŒºé—´çš„å³è¾¹ç•Œ `right`ï¼Œä½†æ˜¯ï¼Œ`ç¬¬ä¸€ä¸ªç­‰äºtargetçš„ä½ç½®` ä¼šä¸ä¼šå‡ºç°åœ¨å·¦è¾¹ç•Œ `left` ä¸Šå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯èƒ½çš„ï¼Œä¾‹å¦‚åœ¨ `[1,2,2,2,3]` æŸ¥æ‰¾æ•°å­— `2` æ—¶ï¼Œ`ans` åº”è¯¥åœ¨å·¦è¾¹ç•Œä¸Šã€‚æ‰€ä»¥ä¸Šè¿°ä»£ç éœ€è¦å¤šè¿›è¡Œä¸€æ¬¡æ¯”è¾ƒï¼Œå¾ªç¯æ¡ä»¶éœ€æ”¹ä¸º `left <= right`

------------------------------------------------------------------------------------------------------------------------------------------------

å†è€ƒè™‘ `ç¬¬ä¸€ä¸ªå¤§äºtargetçš„ä½ç½®`ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œ

- å¦‚æœ `nums[mid] == target`ï¼Œè¿™æ—¶è¦æŸ¥æ‰¾çš„æ˜¯æ¯” `target` å¤§çš„æ•°ï¼Œè¦åšçš„æ˜¯ `left = mid + 1`

å…¶ä»–éƒ½ç›¸åŒ

æœ€åï¼Œéœ€è¦æ ¡éªŒä¸¤æ¬¡å¯»å¾—çš„ `ans` æ˜¯å¦ç¬¦åˆé¢˜ç›®æ‰€æ±‚

**ä»£ç å¦‚ä¸‹**

```js
    /**
     * @param {number[]} nums
     * @param {number} target
     * @return {number[]}
     */
    var searchRange = function(nums, target) {
        

        let ans = [-1, -1];

        const searchIdx = (nums, target, isLast) => {
            let n = nums.length;

            if(!n) return -1;

            let left = 0, right = n - 1, ans = n;

            while(left <= right) {
                let mid = Math.floor((right - left) / 2) + left;
                if(nums[mid] > target || (isLast && nums[mid] >= target)) {
                    right = mid - 1;
                    ans = mid;
                } else {
                    left = mid + 1;
                }
            }

            return ans;
        }
        
        let leftIdx = searchIdx(nums, target, true);
        let rightIdx = searchIdx(nums, target, false) - 1;

        if(leftIdx <= rightIdx && rightIdx < nums.length && nums[leftIdx] === target && nums[rightIdx] === target) {
            ans = [leftIdx, rightIdx];
        }

        return ans;
    };
```

## å°ç»“

äºŒåˆ†æŸ¥æ‰¾çš„æƒ³æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯ç»†èŠ‚éœ€è¦éå¸¸ä»”ç»†æ‰èƒ½æƒ³å®Œå…¨ï¼Œå¤šç»ƒæ‰ä¼šæœ‰æ­£ç¡®çš„æ€è·¯

[LeetCode ğŸ‘‰ HOT 100 ğŸ‘‰ åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - ä¸­ç­‰é¢˜](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/) âœ…


[åˆé›†ï¼šLeetCode ğŸ‘‰ HOT 100](https://juejin.cn/column/7029946677398077476)ï¼Œæœ‰ç©ºå°±ä¼šæ›´æ–°ï¼Œå¤§å®¶å¤šå¤šæ”¯æŒï¼Œç‚¹ä¸ªèµğŸ‘

å¦‚æœå¤§å®¶æœ‰å¥½çš„è§£æ³•ï¼Œæˆ–è€…å‘ç°æœ¬æ–‡ç†è§£ä¸å¯¹çš„åœ°æ–¹ï¼Œæ¬¢è¿ç•™è¨€è¯„è®º ğŸ˜„